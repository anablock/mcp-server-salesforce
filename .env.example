# Salesforce MCP Server Configuration
# Copy this to .env and fill in your values

# ===== SERVER CONFIGURATION =====
NODE_ENV=development
PORT=3000
BASE_URL=http://localhost:3000

# Session secret for secure cookies (generate a random string for production)
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://notepad.ai,https://your-frontend-domain.com

# MCP Mode: 'http' for HTTP server, 'stdio' for stdio server, 'both' for both
MCP_MODE=both

# ===== SALESFORCE OAUTH CONFIGURATION (Required for SSO) =====
# Your Salesforce Connected App settings
SALESFORCE_CLIENT_ID=your_salesforce_connected_app_client_id
SALESFORCE_CLIENT_SECRET=your_salesforce_connected_app_client_secret

# OAuth redirect URI (must match your Connected App settings)
SALESFORCE_REDIRECT_URI=http://localhost:3000/auth/salesforce/callback

# Salesforce login URL (use your custom domain if you have one)
SALESFORCE_LOGIN_URL=https://login.salesforce.com
# For sandbox: https://test.salesforce.com
# For custom domain: https://your-domain.my.salesforce.com

# ===== LEGACY CONNECTION CONFIGURATION (Optional - for fallback) =====
# Connection type: User_Password or OAuth_2.0_Client_Credentials
SALESFORCE_CONNECTION_TYPE=OAuth_2.0_Client_Credentials

# For Username/Password authentication (not recommended for production)
SALESFORCE_USERNAME=your_salesforce_username
SALESFORCE_PASSWORD=your_salesforce_password
SALESFORCE_TOKEN=your_salesforce_security_token

# Instance URL for client credentials flow
SALESFORCE_INSTANCE_URL=https://your-org.my.salesforce.com

# ===== ADDITIONAL CONFIGURATION =====
# Database URL for PostgreSQL (optional - enables persistent storage)
DATABASE_URL=postgresql://username:password@localhost:5432/salesforce_mcp

# Encryption key for token storage (generate with: openssl rand -hex 64)
ENCRYPTION_KEY=your-64-character-encryption-key-change-in-production

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging configuration
LOG_LEVEL=info

# ===== HEROKU PRODUCTION CONFIGURATION =====
# These will be set automatically by Heroku or manually via Heroku CLI

# Required environment variables:
# heroku config:set SALESFORCE_CLIENT_ID=your_client_id
# heroku config:set SALESFORCE_CLIENT_SECRET=your_client_secret
# heroku config:set SESSION_SECRET=$(openssl rand -hex 64)
# heroku config:set ENCRYPTION_KEY=$(openssl rand -hex 64)
# heroku config:set BASE_URL=https://your-heroku-app.herokuapp.com
# heroku config:set SALESFORCE_REDIRECT_URI=https://your-heroku-app.herokuapp.com/auth/salesforce/callback
# heroku config:set ALLOWED_ORIGINS=https://notepad.ai,https://your-domain.com

# Optional PostgreSQL database:
# heroku addons:create heroku-postgresql:mini
# (DATABASE_URL will be set automatically)